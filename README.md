# GVIZI
author AbrametsTI
This is Master' thesis project
2023-2024 year
Name of the project "Генератор задержанных импульсов" or "Delay signal generator"

Данное устройство создано для внесения задержки в управляющие сигналы на научных ускорителях.
Главная задача устройства вносить программную задержку с разрешением не более 150 пс и среднеквадратичным джиттером не более 100 пс на время до 10 мкс.

Поскольку сам концепт немного устарел и впринципе разобраться в этом очень сложно, для начала поясню зачем это надо было и его принцип работы.

Допустим у нас есть один управляющий сигнал, от которого запускаются все системы ускорителя. 
Но проблема в том, что все эти системы: магниты, измерительное оборудование и т.д, могут быть на большом расстоянии. 
Но нам нужно запускать системы с такой точностью, чтобы мы могли поймать частицы.

Как можно задержать цифровой сигнал на десятки микросекунд, при этом внеся искажения в виде джиттера менее 150 пс, используя только частоту в 100 МГц?
Если использовать простые счетчики, то максимум который мы можем получить - это джиттер в 5 нс.
Решение заключается в следующем: мы отправляем фронт сигнала, который необходимо задержать, на интегрирование на конденсаторе. 
Это позволяет "сохранить" время появления сигнала относительно тактовой частоты. После этого можно запустить обычные счетчики, 
отсчитать необходимое время и "добавить" сохраненное время в виде заряда на конденсаторе.

Устройство состоит из цифрового блока (ПЛИС) и аналогового блока. 
Основная задача ПЛИС заключается в приеме управляющих пакетов по SPI-интерфейсу и мультиплексировании данных на АЦП и внутренние счетчики.
Аналоговый блок хранит время появления сигнала и генерирует в конце задержанный сигнал. 

В общем, я устал, надеюсь этого описания будет достаточно.

В папке expirements лежат осциллограммы с экспериментами на разных задержках.

Лицензия: Используйте где хотите, если кто-то сможет это использовать я пожму ему руку.

